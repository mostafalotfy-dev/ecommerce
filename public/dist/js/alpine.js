(()=>{"use strict";document.addEventListener("alpine:init",(function(){Alpine.store("search",{searchInput:"",result:[],loading:!1,page_number:1,value:"",controller:null,clear:function(){0===this.searchInput.length&&this.get()},send:function(t){var e=new FormData;e.append("key",t),e.append("value",this.value),fetch("http://"+location.host+"/api/ajax/language",{method:"post",body:e,headers:{Accept:"application/json"}})},get:function(){var t,e=this;fetch("http://".concat(location.host,"/api/ajax/language/").concat(encodeURIComponent(this.searchInput.replace(/\//g,"-")),"?page= ").concat(this.page_number),{signal:null===(t=this.controller)||void 0===t?void 0:t.signal}).then((function(t){return t.json()})).then((function(t){var n=t.data;e.result=n,e.controller&&e.controller.abort(),e.controller=new AbortController})).catch((function(t){console.log(t.message)})).finally((function(){e.loading=!1}))},delete:function(t){var e=this;fetch(location.protocol+"/api/ajax/language/"+t,{method:"delete"}).then((function(t){return t.json()})).then((function(t){return e.result=t.data.data}))},nextPage:function(){this.page_number++,this.page_number>this.length&&(this.page_number=this.length),this.loading=!0,this.get()},prevPage:function(){this.page_number--,this.page_number<1&&(this.page_number=1),this.loading=!0,this.get()}}),Alpine.data("sweetalert",(function(){return{show:function(t){Swal.fire({title:t.title,text:t.text,icon:t.icon,confirmButtonText:t.confirmButtonText})}}})),Alpine.store("permission",{permissions:[],searchInput:"",currentPage:1,errors:null,role_name_en:"",role_name_ar:"",paginate:function(){var t=this;fetch("http://".concat(location.host,"/api/ajax/permissions/").concat(encodeURIComponent(this.searchInput),"?page=").concat(this.currentPage),{headers:{Accept:"application/json"}}).then((function(t){return t.json()})).then((function(e){var n=e.permissions;t.permissions=n}))},add:function(){var t=this,e=new FormData(document.getElementById("role-form"));fetch("http://".concat(location.host,"/api/ajax/permissions"),{method:"post",body:e,headers:{Accept:"application/json"}}).then((function(t){return t.json()})).then((function(e){e.hasOwnProperty("errors")?t.errors=e.message:e.hasOwnProperty("redirect_to")?location=e.redirect_to:console.log(e)}))},update:function(){var t=document.getElementById("role-form");fetch(t.getAttribute("action"),{method:"put",body:new FormData(t),headers:{Accept:"application/json"}}).then((function(t){return t.json()})).then((function(t){console.log(t)}))}}),Alpine.data("cod",(function(){return{update:function(t,e,n){fetch("http://".concat(location.host,"/api/ajax/cod/").concat(e,"/").concat(t)).then((function(){return location.reload()}))}}})),Alpine.data("status",(function(){return{update:function(t,e,n){var o=new FormData;o.append("id",t),o.append("status",e),o.append("_method","put"),fetch("http://".concat(location.host,"/api/ajax/update/").concat(n,"/status"),{method:"post",body:o,headers:{Accept:"application/json"}}).then((function(t){return location.reload()}))}}})),Alpine.data("crud",(function(){return{message:null,currentPage:1,errors:null,send:function(t){var e=this;this.errors=null;var n=document.getElementById(t);fetch(n.action,{method:n.getAttribute("method"),body:new FormData(n),headers:{Accept:"application/json"}}).then((function(t){return t.json()})).then((function(t){t.hasOwnProperty("errors")?(e.message=t.message,e.errors=t.errors):t.hasOwnProperty("redirect_to")?Swal.fire(t.message).then((function(){location=t.redirect_to})):t.hasOwnProperty("message")&&Swal.fire(t.message)}))}}}))}))})();